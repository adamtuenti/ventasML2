{"version":3,"sources":["./src/app/folder/editar-local/editar-local.page.html","./src/app/folder/editar-local/editar-local-routing.module.ts","./src/app/folder/editar-local/editar-local.module.ts","./src/app/folder/editar-local/editar-local.page.scss","./src/app/folder/editar-local/editar-local.page.ts"],"names":[],"mappings":"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","file":"folder-editar-local-editar-local-module.js","sourcesContent":["export default \"<app-header nombre=\\\"locales\\\"></app-header>\\n\\n<ion-content>\\n\\n\\n  <form #form=\\\"ngForm\\\" (ngSubmit)=\\\"UpdateLocal(form)\\\">\\n    <ion-list>   \\n        \\n  \\n\\n \\n      \\n\\n\\n\\n     \\n      \\n      \\n      \\n\\n      <ion-item>\\n        <ion-icon name=\\\"storefront-outline\\\" color=\\\"success\\\" size='large' style = 'margin-right: 7.5px;'></ion-icon>\\n        <ion-input value=\\\"{{local.Nombre}}\\\" name=\\\"nombre\\\" type='text' ngModel></ion-input>\\n      </ion-item>\\n\\n      \\n\\n      <ion-item>\\n        <ion-icon name=\\\"logo-whatsapp\\\" size='large' color='success' style='margin-right: 7.5px;'></ion-icon>\\n        <ion-input value=\\\"{{local.Telefono}}\\\" name=\\\"telefono\\\" type='text' ngModel></ion-input>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-icon name=\\\"logo-facebook\\\" size='large' color='primary' style='margin-right: 7.5px;'></ion-icon>\\n        <ion-input value=\\\"{{local.RedSocial}}\\\" name=\\\"redSocial\\\" type='text' ngModel></ion-input>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-icon name=\\\"golf-outline\\\" size='large' color='success' style='margin-right: 7.5px;'></ion-icon>\\n        <ion-input value=\\\"{{local.Referencia}}\\\" name=\\\"referencia\\\" type='text' ngModel></ion-input>\\n      </ion-item>\\n\\n      <ion-item>\\n        <ion-icon color=\\\"success\\\" size='large' name=\\\"bicycle-outline\\\"></ion-icon>\\n        <ion-label style = \\\"margin-left: 6.5px;\\\">Entregas a domicilio:</ion-label>\\n        <ion-select name='domicilio' ngModel>\\n         \\n                <ion-select-option value=\\\"Si\\\">Sí</ion-select-option>\\n                <ion-select-option value=\\\"No\\\">No</ion-select-option> \\n\\n        </ion-select>\\n\\n      </ion-item>\\n\\n\\n        <ion-item>\\n          <ion-icon color=\\\"success\\\" size='large' name=\\\"information-circle-outline\\\"></ion-icon>\\n          <ion-label style = \\\"margin-left: 6.5px;\\\">Descripción:</ion-label>\\n        </ion-item>\\n        \\n        <ng-container>\\n          <ion-input style= 'text-align: center;' value=\\\"{{local.Descripcion}}\\\" name=\\\"descripcion\\\" type='text' ngModel></ion-input>\\n\\n        </ng-container>\\n        \\n\\n      <ion-item>\\n        <ion-icon name=\\\"calendar-outline\\\" size='large' color='success'></ion-icon>\\n        <ion-label style = \\\"margin-left: 6.5px;\\\">Horario de atención:</ion-label>\\n        \\n      </ion-item>\\n\\n      <ng-container>\\n        <ion-input style= 'text-align: center;' value=\\\"{{local.HorarioAtencion}}\\\" name=\\\"horario\\\" type='text' ngModel></ion-input>\\n      </ng-container>\\n<!-- \\n      <ng-container>\\n        \\n        <ion-input style= 'text-align: center;' value=\\\"{{local.Descripcion}}\\\" name=\\\"descripcion\\\" required type='text' ngModel></ion-input>\\n      </ng-container> -->\\n\\n      <ion-item style='margin-top: 7.5px;'>\\n\\n        <ion-img id=\\\"blah\\\" [src]=\\\"image\\\" alt=\\\"your image\\\" style=\\\"margin-top:5px;margin-bottom: 5px;height: 350px;width: 350px;margin:auto;\\\"></ion-img>\\n        \\n         \\n      </ion-item>\\n\\n\\n      \\n      <ion-item >\\n\\n        \\n          <ion-icon name=\\\"cloud-upload-outline\\\"></ion-icon>  <ion-text style='margin-left:7.5px'>Cambiar foto</ion-text>\\n          <ion-input id=\\\"myFileInput\\\" (change)=\\\"readURL($event);\\\" accept=\\\"image/*\\\" placeholder=\\\"archivo\\\" name=\\\"archivo\\\" type='file' ngModel value=\\\"{{file}}\\\"></ion-input>\\n        \\n     \\n      </ion-item>\\n\\n    \\n        \\n      \\n\\n\\n      \\n\\n\\n    </ion-list> \\n\\n    <div class=\\\"ion-padding\\\" align=\\\"center\\\">\\n      <ion-button type=\\\"submit\\\"  [disabled]=\\\"form.invalid\\\" expand=\\\"block\\\" style=\\\"width: 150px;\\\">\\n        Actualizar\\n      </ion-button>\\n      \\n    </div>\\n  </form>\\n\\n</ion-content>\\n<style>\\n  #myFileInput{\\n    position: absolute;\\n    opacity: 0;\\n  }\\n</style>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { EditarLocalPage } from './editar-local.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: EditarLocalPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class EditarLocalPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { EditarLocalPageRoutingModule } from './editar-local-routing.module';\n\nimport { EditarLocalPage } from './editar-local.page';\nimport {ComponentsModule} from 'src/app/folder/components/components.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ComponentsModule,\n    EditarLocalPageRoutingModule\n  ],\n  declarations: [EditarLocalPage]\n})\nexport class EditarLocalPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL2ZvbGRlci9lZGl0YXItbG9jYWwvZWRpdGFyLWxvY2FsLnBhZ2Uuc2NzcyJ9 */\";","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Router } from '@angular/router';\nimport { Locales } from 'src/app/models/locales';\nimport { LocalesService } from 'src/app/services/locales.service';\nimport { AlertController, LoadingController } from '@ionic/angular';\nimport { MensajeErrorService } from 'src/app/services/mensaje-error.service';\n\n@Component({\n  selector: 'app-editar-local',\n  templateUrl: './editar-local.page.html',\n  styleUrls: ['./editar-local.page.scss'],\n})\nexport class EditarLocalPage implements OnInit {\n\n  idLocal;\n  public local: Locales = new Locales();\n  idUser;\n  idPropietario;\n  image;\n  file: File;\n  loading: HTMLIonLoadingElement;\n\n  constructor(private router: Router,\n              private activateRoute: ActivatedRoute,\n              private localesService: LocalesService,\n              public loadingController: LoadingController,\n              private mensajeErrorService: MensajeErrorService,\n              private alertCtrt: AlertController) { }\n\n  ngOnInit() {\n    this.activateRoute.paramMap.subscribe(paramMap => {\n    this.idLocal = paramMap.get('idLocal');\n    this.idPropietario = paramMap.get('idPropietario');\n    this.localesService.getLocal(paramMap.get('idLocal')).subscribe(res=> {this.local = res;this.image = res.Foto});\n    this.idUser = localStorage.getItem('userId');\n    });\n  }\n\n  async presentLoading(mensaje: string) {\n    this.loading = await this.loadingController.create({\n      cssClass: 'my-custom-class',\n      message: mensaje,\n      //duration: 2000\n    });\n    return this.loading.present();\n  }\n\n  readURL(event): void {\n    if (event.target.files && event.target.files[0]) {\n        this.file = event.target.files[0];\n\n        const reader = new FileReader();\n        reader.onload = e => this.image = reader.result;\n\n        reader.readAsDataURL(this.file);\n    }\n  }\n\n  async UpdateLocal(form):Promise<void>{\n   // this.presentLoading(\"Espere por favor...\");\n    this.presentLoading(\"Espere por favor...\");\n    var telefono = form.value.telefono;\n    var primeros = telefono.slice(0,3);\n    if(telefono.slice(0,1)==0){\n      telefono = '+593' + telefono.slice(1,telefono.length);\n    }\n    else if(primeros == '+593'){\n      telefono = telefono\n    }\n    if(form.value.domicilio!=''){\n      this.UpdateLocalCompleto(form.value.nombre,telefono,form.value.horario,form.value.domicilio,form.value.redSocial,form.value.descripcion,form.value.referencia,this.image)\n\n    }else{\n      this.UpdateLocalCompleto(form.value.nombre,telefono,form.value.horario,this.local.Domicilio,form.value.redSocial,form.value.descripcion,form.value.referencia,this.image)\n    }\n    \n\n    \n  }\n\n  async UpdateLocalCompleto(nombre: string, telefono: string, horario:string,domicilio:string,redSocial:string,descripcion:string,referencia:string,downloadURL:string){\n    this.local.Nombre = nombre;\n    this.local.Referencia = referencia;\n    this.local.Telefono = telefono;\n    this.local.Descripcion = descripcion;\n    this.local.HorarioAtencion = horario;\n    this.local.RedSocial = redSocial;\n    this.local.Foto = downloadURL;\n    this.local.Domicilio = domicilio;\n    this.localesService.updateLocal(this.idLocal, this.local).\n    then(\n      auth=>{\n        this.loading.dismiss();\n        this.router.navigate(['/detalle-local',this.idLocal,this.idPropietario])\n       \n       \n      }  \n    ).catch(async error => {\n      this.loading.dismiss();\n      var mensaje=error.code.split('/')[1];\n      const presentarMensaje = this.mensajeErrorService.AuthErrorCodeSpanish(mensaje);\n      this.failedAlert(presentarMensaje)\n    })\n  }\n\n\n  async failedAlert(text: string) {\n    const alert = await this.alertCtrt.create({\n     cssClass: 'my-custom-class',\n     header: text,\n    buttons: [{\n    text: 'OK',\n      handler: () => {\n        \n      }\n    }]   \n    });\n    await alert.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}